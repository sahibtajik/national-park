const statePositions = {
  AK: { x: 10, y: 22 },
  AL: { x: 68, y: 56 },
  AR: { x: 63, y: 50 },
  AS: { x: 15, y: 92 },
  AZ: { x: 35, y: 48 },
  CA: { x: 25, y: 40 },
  CO: { x: 40, y: 38 },
  FL: { x: 78, y: 66 },
  GA: { x: 73, y: 58 },
  HI: { x: 23, y: 78 },
  ID: { x: 30, y: 26 },
  IL: { x: 64, y: 40 },
  IN: { x: 67, y: 38 },
  KY: { x: 66, y: 44 },
  LA: { x: 60, y: 60 },
  MA: { x: 86, y: 30 },
  MD: { x: 80, y: 42 },
  ME: { x: 90, y: 22 },
  MI: { x: 60, y: 26 },
  MN: { x: 52, y: 24 },
  MO: { x: 63, y: 45 },
  MS: { x: 63, y: 58 },
  MT: { x: 38, y: 22 },
  NC: { x: 76, y: 50 },
  ND: { x: 45, y: 22 },
  NM: { x: 43, y: 48 },
  NV: { x: 32, y: 35 },
  OH: { x: 71, y: 36 },
  OR: { x: 22, y: 28 },
  PA: { x: 76, y: 34 },
  SC: { x: 78, y: 54 },
  SD: { x: 45, y: 28 },
  TN: { x: 73, y: 48 },
  TX: { x: 52, y: 55 },
  UT: { x: 34, y: 38 },
  VA: { x: 77, y: 45 },
  VI: { x: 86, y: 80 },
  WA: { x: 18, y: 18 },
  WI: { x: 58, y: 30 },
  WV: { x: 74, y: 42 },
  WY: { x: 40, y: 30 }
};

const sourceParks = [
  {
    name: "Acadia National Park",
    code: "acadia",
    states: ["ME"],
    region: "Northeast",
    description: "Granite peaks, crashing Atlantic surf, and sunrise from Cadillac Mountain shape this coastal classic.",
    tagline: "Rocky shores & first light vistas",
    bestTime: "Septemberâ€“October",
    seasonFocus: ["Fall", "Summer"],
    activities: ["coastal hiking", "scenic drives", "lighthouse spotting"],
    environment: "Coastal mountains",
    emoji: "ðŸŒ…"
  },
  {
    name: "American Samoa National Park",
    code: "americansamoa",
    states: ["AS"],
    region: "Pacific",
    description: "Rainforests drape volcanic islands where reefs, sea cliffs, and Samoan culture intertwine.",
    tagline: "Polynesian peaks & reef lagoons",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Spring"],
    activities: ["snorkeling", "rainforest walks", "cultural visits"],
    environment: "Tropical islands",
    emoji: "ðŸŒº"
  },
  {
    name: "Arches National Park",
    code: "arches",
    states: ["UT"],
    region: "Rocky Mountains",
    description: "Over 2,000 natural stone arches glow ember-red above slickrock fins and desert canyons.",
    tagline: "Sandstone gateways to the sky",
    bestTime: "Marchâ€“May & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["sunrise hikes", "stargazing", "photography"],
    environment: "High desert",
    emoji: "ðŸŒ„"
  },
  {
    name: "Badlands National Park",
    code: "badlands",
    states: ["SD"],
    region: "Great Plains",
    description: "Striped buttes, fossil beds, and prairie vistas showcase eons of erosion and roaming bison.",
    tagline: "Fossil beds & lunar buttes",
    bestTime: "Mayâ€“June & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["wildlife drives", "sunset overlooks", "fossil hunting"],
    environment: "Prairie badlands",
    emoji: "ðŸ¦¬"
  },
  {
    name: "Big Bend National Park",
    code: "bigbend",
    states: ["TX"],
    region: "Southwest",
    description: "The Rio Grande carves canyons below desert peaks, with night skies among the darkest in the U.S.",
    tagline: "Borderland canyons & starry nights",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["river trips", "desert hikes", "stargazing"],
    environment: "Chihuahuan Desert",
    emoji: "ðŸŒŒ"
  },
  {
    name: "Biscayne National Park",
    code: "biscayne",
    states: ["FL"],
    region: "Southeast",
    description: "97% water: mangrove shoreline, emerald bay, reefs, and shipwrecks ready for paddle and snorkel.",
    tagline: "Clear bays & coral stories",
    bestTime: "Decemberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["snorkeling", "boating", "paddling"],
    environment: "Tropical marine",
    emoji: "ðŸ›¶"
  },
  {
    name: "Black Canyon of the Gunnison National Park",
    code: "blackcanyon",
    states: ["CO"],
    region: "Rocky Mountains",
    description: "A razor-thin gorge drops nearly 2,700 feet, where the Gunnison River sculpts dark metamorphic walls.",
    tagline: "Vertigo-worthy canyon walls",
    bestTime: "Mayâ€“June & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["scenic drives", "canyon rim hikes", "fly fishing"],
    environment: "Canyon river",
    emoji: "ðŸ§—"
  },
  {
    name: "Bryce Canyon National Park",
    code: "bryce",
    states: ["UT"],
    region: "Rocky Mountains",
    description: "Amphitheaters of crimson hoodoos form a natural cathedral ideal for sunrise walks and dark-sky viewing.",
    tagline: "Hoodoo amphitheaters of light",
    bestTime: "Mayâ€“October",
    seasonFocus: ["Summer", "Fall"],
    activities: ["sunrise hikes", "stargazing", "rim walks"],
    environment: "High plateau",
    emoji: "ðŸª¨"
  },
  {
    name: "Canyonlands National Park",
    code: "canyonlands",
    states: ["UT"],
    region: "Rocky Mountains",
    description: "A maze of canyons and mesas carved by the Colorado and Green Rivers with endless backcountry routes.",
    tagline: "Four districts of desert adventure",
    bestTime: "Aprilâ€“May & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["jeep trails", "backpacking", "river trips"],
    environment: "Canyon maze",
    emoji: "ðŸœï¸"
  },
  {
    name: "Capitol Reef National Park",
    code: "capitolreef",
    states: ["UT"],
    region: "Rocky Mountains",
    description: "The Waterpocket Fold flexes sandstone domes, orchards, slot canyons, and scenic drives with hidden arches.",
    tagline: "Waterpocket Fold wonders",
    bestTime: "Aprilâ€“June & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["fruit picking", "slot canyons", "scenic drives"],
    environment: "Desert monocline",
    emoji: "ðŸ‘"
  },
  {
    name: "Carlsbad Caverns National Park",
    code: "carlsbad",
    states: ["NM"],
    region: "Southwest",
    description: "Ancient reef caves descend into rooms of stalactites, gypsum chandeliers, and nightly bat flights.",
    tagline: "Subterranean cathedral chambers",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Fall"],
    activities: ["cave tours", "bat programs", "scenic drives"],
    environment: "Limestone caves",
    emoji: "ðŸ¦‡"
  },
  {
    name: "Channel Islands National Park",
    code: "channelislands",
    states: ["CA"],
    region: "Pacific",
    description: "Five isolated islands hold endemic wildlife, sea caves, kelp forests, and quiet ridgeline hikes.",
    tagline: "Californiaâ€™s GalÃ¡pagos",
    bestTime: "Aprilâ€“October",
    seasonFocus: ["Summer", "Spring"],
    activities: ["kayaking", "snorkeling", "wildflower hikes"],
    environment: "Island archipelago",
    emoji: "ðŸ›¥ï¸"
  },
  {
    name: "Congaree National Park",
    code: "congaree",
    states: ["SC"],
    region: "Southeast",
    description: "Cathedral forests of champion trees rise above floodplain boardwalks and reflective creeks.",
    tagline: "Giant hardwoods & glowworms",
    bestTime: "Marchâ€“May & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["boardwalk strolls", "canoeing", "birding"],
    environment: "Bottomland forest",
    emoji: "ðŸŒ³"
  },
  {
    name: "Crater Lake National Park",
    code: "craterlake",
    states: ["OR"],
    region: "Pacific Northwest",
    description: "A collapsed volcano holds Americaâ€™s deepest lake, vivid blue waters, and rim drives with island viewpoints.",
    tagline: "Caldera blues & wizard isles",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["rim drives", "boat tours", "summit hikes"],
    environment: "Volcanic lake",
    emoji: "ðŸ’Ž"
  },
  {
    name: "Cuyahoga Valley National Park",
    code: "cuyahoga",
    states: ["OH"],
    region: "Midwest",
    description: "Waterfalls, towpaths, and Midwest forest weave together along the Cuyahoga River near Cleveland.",
    tagline: "Waterfalls near the city",
    bestTime: "Aprilâ€“October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["bike paths", "waterfall hikes", "rail excursions"],
    environment: "River valley",
    emoji: "ðŸš²"
  },
  {
    name: "Death Valley National Park",
    code: "deathvalley",
    states: ["CA", "NV"],
    region: "Southwest",
    description: "Salt flats, slot canyons, and towering dunes meet at North Americaâ€™s hottest, lowest desert basin.",
    tagline: "Dunes, salt, and star fields",
    bestTime: "Novemberâ€“March",
    seasonFocus: ["Winter", "Fall"],
    activities: ["sunrise dunes", "canyon scrambles", "night skies"],
    environment: "Desert basin",
    emoji: "ðŸœï¸"
  },
  {
    name: "Denali National Park",
    code: "denali",
    states: ["AK"],
    region: "Alaska",
    description: "The continentâ€™s highest peak rises above tundra, braided rivers, and wildlife roaming a single park road.",
    tagline: "Tundra giants & lone road panoramas",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer", "Fall"],
    activities: ["bus safaris", "mountain views", "wildlife watching"],
    environment: "Subarctic tundra",
    emoji: "ðŸ”ï¸"
  },
  {
    name: "Dry Tortugas National Park",
    code: "drytortugas",
    states: ["FL"],
    region: "Southeast",
    description: "A remote island fort encircled by turquoise water, reefs, and sea turtles 70 miles off Key West.",
    tagline: "Seaplane lagoons & coral walls",
    bestTime: "Decemberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["snorkeling", "history tours", "birding"],
    environment: "Island fort",
    emoji: "ðŸï¸"
  },
  {
    name: "Everglades National Park",
    code: "everglades",
    states: ["FL"],
    region: "Southeast",
    description: "Sawgrass rivers, mangroves, and wildlife-rich sloughs define this UNESCO wetland wilderness.",
    tagline: "River of grass safaris",
    bestTime: "Decemberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["airboat alternatives", "kayaking", "wildlife watching"],
    environment: "Subtropical wetland",
    emoji: "ðŸŠ"
  },
  {
    name: "Gates of the Arctic National Park",
    code: "gatesofthearctic",
    states: ["AK"],
    region: "Alaska",
    description: "Roadless Arctic mountains, caribou migrations, and glacier-carved valleys reward true expeditions.",
    tagline: "Pure wilderness above the Arctic Circle",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["backpacking", "float trips", "wildlife"],
    environment: "Arctic range",
    emoji: "ðŸ§­"
  },
  {
    name: "Gateway Arch National Park",
    code: "gatewayarch",
    states: ["MO"],
    region: "Midwest",
    description: "St. Louisâ€™ 630-foot stainless arch honors westward expansion with riverfront greens and a museum.",
    tagline: "Modern monument on the Mississippi",
    bestTime: "Marchâ€“May & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["tram ride", "museum", "riverfront walks"],
    environment: "Urban waterfront",
    emoji: "ðŸ›¤ï¸"
  },
  {
    name: "Glacier National Park",
    code: "glacier",
    states: ["MT"],
    region: "Rocky Mountains",
    description: "Alpine lakes, grizzly country, and the Going-to-the-Sun Road deliver iconic Rocky Mountain drama.",
    tagline: "Going-to-the-Sun panoramas",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer"],
    activities: ["alpine hikes", "scenic drives", "backpacking"],
    environment: "Alpine peaks",
    emoji: "ðŸžï¸"
  },
  {
    name: "Glacier Bay National Park",
    code: "glacierbay",
    states: ["AK"],
    region: "Alaska",
    description: "Tidewater glaciers, breaching whales, and temperate rainforests meet in a vast marine wilderness.",
    tagline: "Calving ice & coastal forests",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["cruising", "kayaking", "wildlife"],
    environment: "Coastal fjords",
    emoji: "ðŸ§Š"
  },
  {
    name: "Grand Canyon National Park",
    code: "grandcanyon",
    states: ["AZ"],
    region: "Southwest",
    description: "Layered rock walls drop a mile deep to the Colorado River with views from rim drives to river rapids.",
    tagline: "The worldâ€™s greatest chasm",
    bestTime: "Marchâ€“May & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["rim walks", "river trips", "sunrise views"],
    environment: "Canyon corridor",
    emoji: "ðŸ§­"
  },
  {
    name: "Grand Teton National Park",
    code: "grandteton",
    states: ["WY"],
    region: "Rocky Mountains",
    description: "Knife-edge peaks tower over the Snake River, lakes, and wildlife-rich valleys just south of Yellowstone.",
    tagline: "Cathedral peaks & alpine lakes",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["alpine hikes", "paddling", "wildlife"],
    environment: "Alpine range",
    emoji: "â›°ï¸"
  },
  {
    name: "Great Basin National Park",
    code: "greatbasin",
    states: ["NV"],
    region: "Great Basin",
    description: "Bristlecone pines, Lehman Caves, and the 13,063-foot Wheeler Peak rise from sagebrush valleys.",
    tagline: "High desert peaks & ancient pines",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["cave tours", "summit hikes", "stargazing"],
    environment: "Basin and range",
    emoji: "ðŸŒ "
  },
  {
    name: "Great Sand Dunes National Park",
    code: "greatsanddunes",
    states: ["CO"],
    region: "Rocky Mountains",
    description: "North Americaâ€™s tallest dunes rise against the Sangre de Cristo Mountains with a seasonal creek below.",
    tagline: "Singing dunes & alpine backdrops",
    bestTime: "Mayâ€“June & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["sandboarding", "wading", "night skies"],
    environment: "High desert dunes",
    emoji: "ðŸ‚"
  },
  {
    name: "Great Smoky Mountains National Park",
    code: "greatsmoky",
    states: ["TN", "NC"],
    region: "Southeast",
    description: "Misty ridgelines, historic cabins, and wildflower-lined trails define Americaâ€™s most visited park.",
    tagline: "Endless blue ridges",
    bestTime: "Aprilâ€“June & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["waterfall hikes", "wildflowers", "scenic drives"],
    environment: "Appalachian forest",
    emoji: "ðŸŒ„"
  },
  {
    name: "Guadalupe Mountains National Park",
    code: "guadalupe",
    states: ["TX"],
    region: "Southwest",
    description: "Permian reef peaks, slot canyons, and desert grasslands reach Texasâ€™ highest point at Guadalupe Peak.",
    tagline: "Sky island above the desert",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Fall", "Winter"],
    activities: ["summit hikes", "canyon walks", "night skies"],
    environment: "Desert mountains",
    emoji: "ðŸŽ’"
  },
  {
    name: "HaleakalÄ National Park",
    code: "haleakala",
    states: ["HI"],
    region: "Pacific",
    description: "A massive shield volcano hosts sunrise craters, cloud forests, and endangered Hawaiian species.",
    tagline: "Sunrise above the sea of clouds",
    bestTime: "Marchâ€“September",
    seasonFocus: ["Summer", "Spring"],
    activities: ["sunrise viewing", "crater hikes", "stargazing"],
    environment: "Shield volcano",
    emoji: "ðŸŒ‹"
  },
  {
    name: "HawaiÊ»i Volcanoes National Park",
    code: "hawaiivolcanoes",
    states: ["HI"],
    region: "Pacific",
    description: "Home to KÄ«lauea and Mauna Loa, where lava flows, steam vents, and black-sand coastlines evolve daily.",
    tagline: "Living volcano landscapes",
    bestTime: "Marchâ€“September",
    seasonFocus: ["Summer", "Spring"],
    activities: ["lava viewing", "crater drives", "coastal hikes"],
    environment: "Active volcanoes",
    emoji: "ðŸŒ‹"
  },
  {
    name: "Hot Springs National Park",
    code: "hotsprings",
    states: ["AR"],
    region: "South",
    description: "Historic bathhouses line geothermal springs amid wooded hills and short summit hikes.",
    tagline: "Thermal history in the Ozarks",
    bestTime: "Marchâ€“May & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["spa culture", "short hikes", "scenic drives"],
    environment: "Thermal springs",
    emoji: "â™¨ï¸"
  },
  {
    name: "Indiana Dunes National Park",
    code: "indianadunes",
    states: ["IN"],
    region: "Midwest",
    description: "Beaches and dune ridges along Lake Michigan pair with bird-rich wetlands and oak savannas.",
    tagline: "Beaches beside Chicago",
    bestTime: "Mayâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["beach walks", "dune hikes", "birding"],
    environment: "Coastal dunes",
    emoji: "ðŸ–ï¸"
  },
  {
    name: "Isle Royale National Park",
    code: "isleroyale",
    states: ["MI"],
    region: "Midwest",
    description: "A remote Lake Superior island archipelago famed for wilderness paddling, moose, and wolves.",
    tagline: "Island solitude on Superior",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer"],
    activities: ["backpacking", "canoeing", "wildlife"],
    environment: "Lake island",
    emoji: "ðŸ¦Œ"
  },
  {
    name: "Joshua Tree National Park",
    code: "joshuatree",
    states: ["CA"],
    region: "Pacific",
    description: "Where Mojave meets Colorado Desert: iconic yuccas, granite boulders, and world-class climbing.",
    tagline: "Starry skies & surreal yuccas",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["bouldering", "night skies", "desert drives"],
    environment: "High desert",
    emoji: "ðŸŒµ"
  },
  {
    name: "Katmai National Park",
    code: "katmai",
    states: ["AK"],
    region: "Alaska",
    description: "Brown bears crowd Brooks Falls while volcanic valleys and salmon-fed rivers stretch to the coast.",
    tagline: "Brown bear capital of Alaska",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["bear viewing", "fly fishing", "floatplanes"],
    environment: "Volcanic coast",
    emoji: "ðŸ»"
  },
  {
    name: "Kenai Fjords National Park",
    code: "kenai",
    states: ["AK"],
    region: "Alaska",
    description: "Tidewater glaciers, icefields, and coastal fjords mix with orcas and puffins near Seward.",
    tagline: "Glaciers meet the Gulf of Alaska",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["boat tours", "kayaking", "ice hikes"],
    environment: "Coastal fjords",
    emoji: "ðŸš¤"
  },
  {
    name: "Kings Canyon National Park",
    code: "kingscanyon",
    states: ["CA"],
    region: "Pacific",
    description: "Deep glacial canyons, giant sequoias, and roaring rivers pair with Sequoia next door.",
    tagline: "Granite chasms & giant trees",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["canyon hikes", "giant trees", "river camping"],
    environment: "Glacial canyon",
    emoji: "ðŸŒ²"
  },
  {
    name: "Kobuk Valley National Park",
    code: "kobuk",
    states: ["AK"],
    region: "Alaska",
    description: "Arctic sand dunes meet caribou migrations along the Kobuk River well above the Arctic Circle.",
    tagline: "Sand dunes in the Arctic",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["flightseeing", "river trips", "wildlife"],
    environment: "Arctic dunes",
    emoji: "ðŸ–ï¸"
  },
  {
    name: "Lake Clark National Park",
    code: "lakeclark",
    states: ["AK"],
    region: "Alaska",
    description: "Salmon-rich rivers, turquoise lakes, and bear-filled meadows accessible mainly by bush plane.",
    tagline: "Bush plane gateway to wild Alaska",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["bear viewing", "rafting", "backcountry"],
    environment: "Remote lakes",
    emoji: "ðŸ›©ï¸"
  },
  {
    name: "Lassen Volcanic National Park",
    code: "lassen",
    states: ["CA"],
    region: "Pacific",
    description: "Boiling mud pots, cinder cones, and alpine lakes showcase the full volcano spectrum in one park.",
    tagline: "Volcanic sampler of California",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["hydrothermal walks", "lake hikes", "scenic drives"],
    environment: "Volcanic highlands",
    emoji: "ðŸŒ‹"
  },
  {
    name: "Mammoth Cave National Park",
    code: "mammothcave",
    states: ["KY"],
    region: "South",
    description: "The worldâ€™s longest known cave system hides rivers, gothic chambers, and historic tour routes.",
    tagline: "Labyrinth under Kentucky hills",
    bestTime: "Marchâ€“May & September",
    seasonFocus: ["Spring", "Fall"],
    activities: ["cave tours", "river paddling", "history"],
    environment: "Karst caves",
    emoji: "ðŸ•³ï¸"
  },
  {
    name: "Mesa Verde National Park",
    code: "mesaverde",
    states: ["CO"],
    region: "Rocky Mountains",
    description: "Cliff dwellings and archaeological sites share the story of Ancestral Puebloan life on high mesas.",
    tagline: "Cliff palaces in the sky",
    bestTime: "Mayâ€“October",
    seasonFocus: ["Summer", "Fall"],
    activities: ["cliff dwelling tours", "scenic drives", "culture"],
    environment: "High mesa",
    emoji: "ðŸº"
  },
  {
    name: "Mount Rainier National Park",
    code: "mountrainier",
    states: ["WA"],
    region: "Pacific Northwest",
    description: "An active stratovolcano draped in glaciers, wildflower meadows, and countless waterfalls.",
    tagline: "Glacial crown of the Cascades",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer"],
    activities: ["wildflower hikes", "glacier views", "waterfalls"],
    environment: "Glaciated volcano",
    emoji: "ðŸ”ï¸"
  },
  {
    name: "New River Gorge National Park",
    code: "newrivergorge",
    states: ["WV"],
    region: "Appalachia",
    description: "Whitewater rapids cut through sandstone cliffs beneath an iconic steel arch bridge.",
    tagline: "Raftersâ€™ playground of the East",
    bestTime: "Aprilâ€“June & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["whitewater", "rock climbing", "bridge walks"],
    environment: "River gorge",
    emoji: "ðŸŒ‰"
  },
  {
    name: "North Cascades National Park",
    code: "northcascades",
    states: ["WA"],
    region: "Pacific Northwest",
    description: "Jagged peaks, turquoise lakes, and more glaciers than any U.S. park outside Alaska.",
    tagline: "American Alps of the Northwest",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer"],
    activities: ["alpine hikes", "lake paddling", "scenic drives"],
    environment: "Glaciated peaks",
    emoji: "ðŸ§—"
  },
  {
    name: "Olympic National Park",
    code: "olympic",
    states: ["WA"],
    region: "Pacific Northwest",
    description: "Rainforests, rugged Pacific beaches, and glacier-capped peaks converge in one peninsula park.",
    tagline: "Three ecosystems in one",
    bestTime: "Julyâ€“September",
    seasonFocus: ["Summer"],
    activities: ["beachcombing", "rainforest walks", "alpine lakes"],
    environment: "Coast & rainforest",
    emoji: "ðŸŒŠ"
  },
  {
    name: "Petrified Forest National Park",
    code: "petrifiedforest",
    states: ["AZ"],
    region: "Southwest",
    description: "Painted Desert vistas meet rainbow-hued petrified logs and Route 66 history.",
    tagline: "Painted desert & ancient logs",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Fall"],
    activities: ["scenic drives", "badland hikes", "paleontology"],
    environment: "Painted desert",
    emoji: "ðŸªµ"
  },
  {
    name: "Pinnacles National Park",
    code: "pinnacles",
    states: ["CA"],
    region: "Pacific",
    description: "Spired volcanic remains create talus caves, condor habitat, and climber-loved walls.",
    tagline: "Condor country spires",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["cave hikes", "birding", "climbing"],
    environment: "Volcanic spires",
    emoji: "ðŸ¦…"
  },
  {
    name: "Redwood National and State Parks",
    code: "redwood",
    states: ["CA"],
    region: "Pacific",
    description: "Worldâ€™s tallest trees tower above foggy ferns and elk-filled prairies along the Northern California coast.",
    tagline: "Cathedrals of living wood",
    bestTime: "Mayâ€“September",
    seasonFocus: ["Summer", "Spring"],
    activities: ["forest walks", "coastal drives", "wildlife"],
    environment: "Coastal forest",
    emoji: "ðŸŒ²"
  },
  {
    name: "Rocky Mountain National Park",
    code: "rockymountain",
    states: ["CO"],
    region: "Rocky Mountains",
    description: "Trail Ridge Road, alpine tundra, and over sixty peaks above 12,000 feet anchor Coloradoâ€™s signature park.",
    tagline: "Alpine tundra highways",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["high alpine hikes", "wildlife", "scenic drives"],
    environment: "Alpine range",
    emoji: "ðŸ¦Œ"
  },
  {
    name: "Saguaro National Park",
    code: "saguaro",
    states: ["AZ"],
    region: "Southwest",
    description: "Giant cacti forests frame sunsets and desert trails on Tucsonâ€™s east and west flanks.",
    tagline: "Iconic cactus sunsets",
    bestTime: "Novemberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["desert hikes", "sunset drives", "wildflower blooms"],
    environment: "Sonoran Desert",
    emoji: "ðŸŒµ"
  },
  {
    name: "Sequoia National Park",
    code: "sequoia",
    states: ["CA"],
    region: "Pacific",
    description: "Groves of giant sequoias meet granite domes and the High Sierra including Mount Whitneyâ€™s backyard.",
    tagline: "Giants of the Sierra",
    bestTime: "Juneâ€“October",
    seasonFocus: ["Summer", "Fall"],
    activities: ["giant trees", "alpine hikes", "cave tours"],
    environment: "Giant forest",
    emoji: "ðŸŒ²"
  },
  {
    name: "Shenandoah National Park",
    code: "shenandoah",
    states: ["VA"],
    region: "Appalachia",
    description: "Skyline Drive follows Blue Ridge vistas above waterfalls, wildflowers, and CCC-era stonework.",
    tagline: "Skyline Drive blues",
    bestTime: "Aprilâ€“June & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["scenic drives", "waterfall hikes", "wildflowers"],
    environment: "Blue Ridge",
    emoji: "ðŸŒ¸"
  },
  {
    name: "Theodore Roosevelt National Park",
    code: "theodoreroosevelt",
    states: ["ND"],
    region: "Great Plains",
    description: "Painted badlands, prairie dog towns, and wild horses capture the spirit of the Dakota prairies.",
    tagline: "Badlands of the Rough Rider",
    bestTime: "Mayâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["wildlife drives", "badland hikes", "camping"],
    environment: "Prairie badlands",
    emoji: "ðŸŽ"
  },
  {
    name: "Virgin Islands National Park",
    code: "virginislands",
    states: ["VI"],
    region: "Caribbean",
    description: "White-sand beaches, coral reefs, and plantation ruins shimmer across St. Johnâ€™s turquoise bays.",
    tagline: "Caribbean coves & coral",
    bestTime: "Decemberâ€“April",
    seasonFocus: ["Winter", "Spring"],
    activities: ["snorkeling", "sailing", "history"],
    environment: "Tropical islands",
    emoji: "ðŸ–ï¸"
  },
  {
    name: "Voyageurs National Park",
    code: "voyageurs",
    states: ["MN"],
    region: "Midwest",
    description: "Interlaced northern lakes, boreal forest, and houseboat-friendly waterways sit along the Canadian border.",
    tagline: "Water maze of the North",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer"],
    activities: ["canoeing", "houseboating", "northern lights"],
    environment: "Lake district",
    emoji: "ðŸ›¶"
  },
  {
    name: "White Sands National Park",
    code: "whitesands",
    states: ["NM"],
    region: "Southwest",
    description: "Wave-like gypsum dunes shimmer bright white with sledding slopes and pastel sunsets.",
    tagline: "Gypsum dunes like snow",
    bestTime: "Octoberâ€“April",
    seasonFocus: ["Winter", "Fall"],
    activities: ["sand sledding", "sunset walks", "photography"],
    environment: "Gypsum dunes",
    emoji: "ðŸ‚"
  },
  {
    name: "Wind Cave National Park",
    code: "windcave",
    states: ["SD"],
    region: "Great Plains",
    description: "One of the worldâ€™s longest caves beneath rolling prairie rich with bison and prairie dogs.",
    tagline: "Boxwork caves & bison above",
    bestTime: "Mayâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["cave tours", "wildlife drives", "hikes"],
    environment: "Cave prairie",
    emoji: "ðŸ¦¬"
  },
  {
    name: "Wrangellâ€“St. Elias National Park",
    code: "wrangell",
    states: ["AK"],
    region: "Alaska",
    description: "Americaâ€™s largest park holds 13-million acres of volcanoes, glaciers, and mountaineering scale peaks.",
    tagline: "Supersized Alaska",
    bestTime: "Juneâ€“August",
    seasonFocus: ["Summer"],
    activities: ["glacier flights", "trekking", "rafting"],
    environment: "Glacier wilderness",
    emoji: "ðŸ—»"
  },
  {
    name: "Yellowstone National Park",
    code: "yellowstone",
    states: ["WY", "MT", "ID"],
    region: "Rocky Mountains",
    description: "Geysers, hot springs, canyons, and megafauna define the worldâ€™s first national park.",
    tagline: "Geyser basins & wildlife drama",
    bestTime: "Juneâ€“September",
    seasonFocus: ["Summer", "Fall"],
    activities: ["geyser loops", "wildlife", "canyon hikes"],
    environment: "Geothermal plateau",
    emoji: "ðŸ¦¬"
  },
  {
    name: "Yosemite National Park",
    code: "yosemite",
    states: ["CA"],
    region: "Pacific",
    description: "Granite walls, waterfalls, giant sequoias, and alpine passes frame Ansel Adams-worthy scenery.",
    tagline: "Granite icons & valley mist",
    bestTime: "Mayâ€“October",
    seasonFocus: ["Summer", "Spring"],
    activities: ["valley walks", "big wall views", "alpine hikes"],
    environment: "Granite valley",
    emoji: "ðŸŒ"
  },
  {
    name: "Zion National Park",
    code: "zion",
    states: ["UT"],
    region: "Rocky Mountains",
    description: "Sandstone cliffs tower above the Virgin River with slot canyon hikes like the Narrows and Angels Landing.",
    tagline: "Canyon cathedrals of Utah",
    bestTime: "Marchâ€“May & October",
    seasonFocus: ["Spring", "Fall"],
    activities: ["canyon hikes", "via ferrata", "scenic drives"],
    environment: "Sandstone canyon",
    emoji: "ðŸ›¤ï¸"
  }
];

const parks = sourceParks.map((park) => {
    const coords = park.states
      .map((state) => statePositions[state])
      .filter(Boolean);
    const x = coords.length
      ? coords.reduce((sum, p) => sum + p.x, 0) / coords.length
      : 50;
    const y = coords.length
      ? coords.reduce((sum, p) => sum + p.y, 0) / coords.length
      : 50;
    return {
      ...park,
      coordinates: { x, y },
      keywords: [
        park.environment,
        park.region,
        park.tagline,
        ...park.activities,
        park.bestTime,
        park.seasonFocus.join(" ")
      ]
    };
  });

export { parks, statePositions };
